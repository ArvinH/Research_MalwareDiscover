package netdb.graph.unit;

import java.util.TreeMap;

import netdb.graph.opts.framework.GBlock;

public class CacheManager {
   public static int BLOCK_CACHE_SIZE = 1000;
	private TreeMap<Object, GBlock> map = null;
  
  private CacheManager() {
	  map = new TreeMap<Object, GBlock>();
  }
  
  public void putCache(Cacheable object)
  {
	  if (map.containsKey(object.getIdentifier())) {
	    /*just update*/
	  }
	  else {
		  if (map.size() > BLOCK_CACHE_SIZE) {
			  cleanCache();
		  }
		  map.put(object.getIdentifier(), (GBlock)object);  
	  }
    
    
  }
  public void cleanCache() {
	  
  }
  public Cacheable getCache(Object identifier)
  {
      Cacheable object = (Cacheable)map.get(identifier);
      if (object == null)
       return null;
      if (object.isExpired())
      {
        map.remove(identifier);
        return null;
      }
      else
      {
        return object;
      }
  }  
}
